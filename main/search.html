<!DOCTYPE html>
 <html lang="en">
 <head>
 <meta name="viewport" content="width=device-width, initial-scale=1" />

     
	 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
     <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	 <title>Live Json Search</title>
	
	<style>
#myBtn {
  display: none;
  position: fixed;
  bottom: 100px;
  right: 30px;
  z-index: 99;
  font-size: 18px;
  border: none;
  outline: none;
  background-color: black;
  color: white;
  cursor: pointer;
  padding: 15px;
  border-radius: 4px;
}

#myBtn {

  display: none; /* Hidden by default */
  position: fixed; /* Fixed/sticky position */
  bottom: 20px; /* Place the button at the bottom of the page */
  right: 20px; /* Place the button 30px from the right */
  z-index: 99; /* Make sure it does not overlap */
  border: none; /* Remove borders */
  outline: none; /* Remove outline */
  background-color: hsl(0, 0%, 0%, 0); /* Set a background color */
  color: white; /* Text color */
  cursor: pointer; /* Add a mouse pointer on hover */
  padding: 15px; /* Some padding */
  border-radius: 10px; /* Rounded corners */
  font-size: 18px; /* Increase font size */
}

#myBtn:hover {
  background-color: #555; /* Add a dark-grey background on hover */
}

</style>
</head>
<body>
<button onclick="topFunction()" id="myBtn" title="Go to top" style='font-size:30px;'>&#11014;</button>
<script>
// Get the button
let mybutton = document.getElementById("myBtn");

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";

  } else {
    mybutton.style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}



</script>



<!--
  <div class="container">
    <h3>Leela Charitra Live Search</h3>
	<form role="form">
        <div class="form-group">
          <input type="input" class="form-control input-m" id="text-search" placeholder="Type your search character">
        </div>
	</form>
	<div id="filter"></div>
  </div>-->
  
  
 <section class="intro">
 
    <div class="mask d-flex align-items-center h-70" style="background-color: rgba(0,0,0, 0.5);">
      <div class="container">
        <p class="h5 mb-1 text-white">Search App by Hemang$oni.</p>
        <div class="card">
          <div class="card-body p-4">
            <div class="row">
              <div class="col-12 mb-8">
                <div class="input-group">
                  <div class="form-outline flex-fill">
                    <input type="search" id="text-search" class="form-control form-control-lg" />
                    <label class="form-label" for="form1">Search for Words in Leela</label>
					<div id="count"></div>
                    <!--<div class="form-helper pt-2"><span class="font-weight-bold">Suggested:</span>
                      <a href="#!" class="text-black-50">Home,</a>  -->
                    </div>
					<div id="filter"><label class="form-label" for="form1"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</section>

    
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
	<style>

	
	
	
	
.ui-listview > li a {
  white-space: normal !important;
}â€‹
h3 .ui-btn-text{ white-space: normal !important; word-break:break-all !important; }
h3 { white-space: normal !important; word-break:break-all !important; }

mark { 
  background-color: pink;
  color: black;
}
p {padding: 0 15px;
style="font-size: 
18px;font-family: Arial;
text-align:justify
}

html,
body,
.intro {
  height: 50vh;
}
</style>
<script>
  $(document).ready(function(){
     $.getJSON('person.json', function(jd) {
	var data = jd.main
	console.log(jd.main)

$('#text-search').keyup(function(){
            var searchField = $(this).val();
			if(searchField === '')  {
				$('#filter').html('');
				return;
			}
			
            var regex = new RegExp(searchField, "i");
            var output = '<div class="card mb-2">';
			var result = 0;
            var count = 1;
			  $.each(data, function(key, val){
				if ((val.Aadi.search(regex) != -1 || val.Lila.search(regex) != -1)) {
				  //output += '<div class="row p-2">';
				  //output += '<div class="col-7">';
				  result = result + 1;
				  output += '<h2>' + val.Aadi + '</h2>';
				  output += '<p style="font-size: 18px;font-family: Arial;text-align:justify">' + val.Lila + '</p>'
				  //output += '</div>';
				  //output += '</div>';
				  if(count%1 == 0){
					output += '</div><div class="card mb-2">'
				  }
				  count++;
				}
			  });
			  output += '</div>';
			  $('#count').html('<p "font-size:18px;font-family:Arial;"> Total <span style="color:red">'+result+'</span> Leela Found with word <span style="color:red">'+ searchField+'</span> </p>');
			  var src_str = output;
			  var term = searchField;
			  term = term.replace(/(\s+)/,"(<[^>]+>)*$1(<[^>]+>)*");
			  var pattern = new RegExp("("+term+")", "gi");
			  src_str = src_str.replace(pattern, "<mark>$1</mark>");
			  src_str = src_str.replace(/(<mark>[^<>]*)((<[^>]+>)+)([^<>]*<\/mark>)/,"$1</mark>$2<mark>$4");
			  $('#filter').html(src_str)
			  //$('#filter').html(output);
        });
  });
  });
</script>
</body>
</html>
